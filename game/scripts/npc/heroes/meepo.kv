///                                                           ///
/// ModDota AbilityLuaSpellLibrary spells for Meepo           ///
///                                                           ///
/// Last Update: 7.37e                                        ///
///                                                           ///

"DOTAAbilities"
{
    //=================================================================================================================
    // Meepo: Earthbind
    //=================================================================================================================
    "meepo_earthbind_ts_example"
    {
        // General
        //-------------------------------------------------------------------------------------------------------------
        "BaseClass"                             "ability_lua"
        "ScriptFile"                            "abilities/heroes/meepo/earthbind_ts_example.lua"
        "AbilityTextureName"                    "meepo_earthbind"
        "AbilityBehavior"                       "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
        "SpellImmunityType"                     "SPELL_IMMUNITY_ENEMIES_NO"
        "SpellDispellableType"                  "SPELL_DISPELLABLE_YES"
        "FightRecapLevel"                       "1"
        "AbilitySound"                          "Hero_Meepo.Earthbind.Cast"


        // Casting
        //-------------------------------------------------------------------------------------------------------------
        "AbilityCastRange"                      "1250"
        "AbilityCastPoint"                      "0.3"

        // Time        
        //-------------------------------------------------------------------------------------------------------------
        "AbilityCooldown"                       "2"

        // Cost
        //-------------------------------------------------------------------------------------------------------------
        "AbilityManaCost"                       "10"

        // Special
        //-------------------------------------------------------------------------------------------------------------
        "AbilityValues"
        {
            "duration"                          "2.0"
            "radius"
            {
                "value"                         "220"
                "affected_by_aoe_increase"      "1"
            }
            "speed"                             "1200"
            "megameepo_net_offset"
            {
                "value"                         "160"
                "affected_by_aoe_increase"      "1"
            }
            "cooldown"                          "2"
            "LinkedSpecialBonus"                "special_bonus_unique_meepo3"
        }
        "AbilityCastAnimation"                  "ACT_DOTA_CAST_ABILITY_1"
    }
    "flame_burst"
{
    // --- Core info --------------------------------------------------
    "BaseClass"                     "ability_lua"               // we’re using a Lua/TS ability
    "ScriptFile"                    "abilities/heroes/meepo/flame_burst.lua" // auto‑generated by tstl
    "AbilityTextureName"            "ember_spirit_flame_guard"  // pick any icon you like

    // --- Ability presentation --------------------------------------
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"         "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_NO"     // can be blocked by BKB
    "FightRecapLevel"               "1"

    // --- Cast parameters -------------------------------------------
    "AbilityCastRange"              "800"
    "AbilityCastPoint"              "0.3"
    "AbilityCooldown"               "12"
    "AbilityManaCost"               "100"
    "AOERadius"                     "%radius"                      // drives the green circle

    // --- Damage -----------------------------------------------------
    "AbilityDamage"                 "280"                          // shown on tooltip
    "AbilityDamageType"             "DAMAGE_TYPE_MAGICAL"

    // --- Custom values (read with GetSpecialValueFor) --------------
    "AbilitySpecial"
    {
        "01"
        {
            "var_type"  "FIELD_INTEGER"
            "radius"    "300"       // matches GetAOERadius()
        }
        "02"
        {
            "var_type"      "FIELD_FLOAT"
            "slow_duration" "2.5"
        }
        "03"
        {
            "var_type"  "FIELD_INTEGER"
            "slow_pct"  "30"        // % move‑speed slow applied by modifier
        }
        "04"
        {
            "var_type"  "FIELD_INTEGER"
            "damage"    "280"       // optional: same as AbilityDamage
        }
    }

    // --- Link to the debuff so it shows in demo tools --------------
    "Modifiers"
    {
        "modifier_flame_burst_slow"
        {
            "IsDebuff"          "1"
            "IsPurgable"        "1"
            "EffectName"        "particles/generic_gameplay/generic_slowed_cold.vpcf"
            "EffectAttachType"  "PATTACH_ABSORIGIN_FOLLOW"
            "Properties"
            {
                "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_pct"
            }
        }
    }
}

}
